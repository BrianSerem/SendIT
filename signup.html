<!DOCTYPE html >

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Sign Up</title>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <link href="images/senditlogo/senditfav.png" rel="icon" type="image/png">
    <link href="http://fonts.googleapis.com/css?family=Varela" rel="stylesheet" />
    <link href="css/default.css" rel="stylesheet" type="text/css" media="all" />
    <link href="fonts.css" rel="stylesheet" type="text/css" media="all" />
     <link href="css/forms.css" rel="stylesheet" type="text/css" media="all" />
    <link href="css/fonts.css" rel="stylesheet" type="text/css" media="all" />





</head>

<body>
    <div id="wrapper">
        <div id="header-wrapper">
            <div id="header" class="container">
                <div id="logo">
                    <h1><a href="index.html"><img src="images/senditlogo/senditfav.png"></a></h1>
                </div>
                <div id="menu">
                    <ul>
                        <li><a href="index.html" accesskey="1" title="">HOME</a></li>
                        <li><a href="login.html" accesskey="2" title="">Log In</a></li>
                        <li class="current_page_item"><a href="signup.html" accesskey="3" title="">Register</a></li>
                        <li><a href="about.html" accesskey="4" title="">About Us</a></li>
                        <li><a href="admindashboard.html" accesskey="5" title="">Admin Dashboard</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="login">
  <h1>SIGN up For SENDIT</h1>
    <form method="post">
    <input type="text" name="username" placeholder="username" required="required" id="username"/>
    <input type="text" name="email" placeholder="email" required="required"  id="email" />
    <input type="number" name="phone" placeholder="pnumber" required="required" />
    <input type="password" name="p" placeholder="Password" required="required" />
    <button type="submit" class="btn btn-primary btn-block btn-large" onclick="singUp()">SIGN up.</button>
    </form>
    <a href="login.html">Got an account?</a>
</div>
    <div id ="footer">

<div id="copyright" class="container">
  <p>&copy; Untitled. All rights reserved.| <a href="index.html">SEND-IT</a>.</p>
</div>
</div>
</body>

<script>
    function signUp() {
        // getting the form values
        let email = document.getElementById("email").value;
        let username = document.getElementById("username").value;
        let phonenumber = document.getElementById("pnumber").value;
        let password = document.getElementById("password").value;
        let signup_url = "https://sendit123.herokuapp.com/api/v2/auth/signup";
        // Checking if the password and confirmation password is same
        if(password != password1){
            alert("password does not match")
        }
        let signup_data = {
            email : email,
            username : username,
            phone : pnumber,
            password : password,
    
        }
        // sending data to our end point
        fetch(signup_url, {
            method: 'POST',
            body: JSON.stringify(signup_data),
            headers:{
                'Content-Type': 'application/json'
            }
        })
        .then(res => res.json())
        .then(response => {
            if(response.status === "added"){
                alert("successfully added")
                window.location.href='signin.html';
            } else {
                alert(response.message)
            }
        })
        .catch(error => alert("OOPS try again"));
}
</script>
</html>